# Output File Templates

## README.md Template

```markdown
---
created: {date}
target: {analysis target path}
tags:
  - msa
  - c4-model
  - architecture
  - onboarding
---

# MSA Architecture Report

> Auto-generated by `msa-onboard-team` plugin.

## Overview

- **Target**: {project path}
- **Date**: {date}
- **Service count**: {N}
- **Architecture type**: {mono-repo / multi-repo}

## Table of Contents

1. [[01-system-context|System Context (Level 1)]]
2. [[02-container|Container (Level 2)]]
3. [[03-components/|Component (Level 3)]]
4. [[04-service-catalog|Service Catalog]]
5. [[05-infra-overview|Infrastructure Overview]]
6. [[06-dependency-map|Dependency Map]]

## Tech Stack Summary

| Area | Technology |
|------|-----------|
| Languages | {list} |
| Frameworks | {list} |
| Databases | {list} |
| Message Queues | {list} |
| Infrastructure | {list} |

## Verification Results

| Item | Score | Grade |
|------|-------|-------|
| Confidence (cross-validation) | {score}/100 | {grade} |
| Quality (report verification) | {score}/100 | {grade} |
```

## 01-system-context.md Template

```markdown
---
created: {date}
tags:
  - c4-model
  - system-context
---

# System Context (Level 1)

> Shows relationships between the system and external systems/users.

## Diagram

\`\`\`mermaid
C4Context
    title System Context - {system name}

    Person(user, "사용자", "시스템을 사용하는 사람")
    System(system, "{system name}", "{system desc}")
    {external systems}
    {relationships}
\`\`\`

## Description

| Element | Description |
|---------|-------------|
| {element} | {desc} |

## Related

- [[02-container|Container Diagram →]]
- [[04-service-catalog|Service Catalog]]
```

## 02-container.md Template

```markdown
---
created: {date}
tags:
  - c4-model
  - container
---

# Container (Level 2)

> Shows deployment units (services, DBs, MQs) inside the system.

## Diagram

\`\`\`mermaid
C4Container
    title Container Diagram - {system name}

    {users}
    Container_Boundary(system, "{system name}") {
        {containers}
    }
    {relationships}
\`\`\`

## Service List

| Service | Tech | Role | Port |
|---------|------|------|------|
| {name} | {tech} | {role} | {port} |

## Related

- [[01-system-context|← System Context]]
- [[03-components/|Component Diagram →]]
- [[06-dependency-map|Dependency Map]]
```

## 03-components/{service}.md Template

```markdown
---
created: {date}
service: {service name}
tags:
  - c4-model
  - component
  - {service name}
---

# Component - {service name} (Level 3)

> Shows internal component structure of {service name}.

## Diagram

\`\`\`mermaid
C4Component
    title Component Diagram - {service name}

    Container_Boundary(svc, "{service name}") {
        {components}
    }
    {external dependencies}
    {relationships}
\`\`\`

## Component Description

| Component | Tech | Role |
|-----------|------|------|
| {name} | {tech} | {role} |

## API Endpoints

| Method | Path | Description |
|--------|------|-------------|
| {GET/POST/...} | {path} | {desc} |

## Related

- [[../02-container|← Container Diagram]]
- [[../04-service-catalog#{service}|Service Catalog]]
```

## 04-service-catalog.md Template

```markdown
---
created: {date}
tags:
  - msa
  - service-catalog
---

# Service Catalog

## Service List

### {service name}

| Item | Value |
|------|-------|
| Path | `{path}` |
| Language | {lang} |
| Framework | {framework} |
| Build Tool | {build tool} |
| Port | {port} |
| DB | {db type} |
| Role | {desc} |

## Tech Stack Matrix

| Service | Language | Framework | DB | MQ |
|---------|---------|-----------|----|----|
| {name} | {lang} | {fw} | {db} | {mq} |
```

## 05-infra-overview.md Template

```markdown
---
created: {date}
tags:
  - msa
  - infrastructure
---

# Infrastructure Overview

## Container Orchestration

{Docker Compose / Kubernetes / ECS etc.}

## Network Configuration

| Network | Connected Services | Purpose |
|---------|-------------------|---------|
| {name} | {services} | {purpose} |

## CI/CD Pipeline

| Stage | Tool | Description |
|-------|------|-------------|
| {build/test/deploy} | {tool} | {desc} |

## Environment Configuration

| Service | Key Env Vars |
|---------|-------------|
| {service} | {key list (no values)} |

## Related

- [[02-container|Container Diagram]]
- [[04-service-catalog|Service Catalog]]
```

## 06-dependency-map.md Template

```markdown
---
created: {date}
tags:
  - msa
  - dependency
---

# Dependency Map

## Inter-Service Communication

| From | To | Protocol | Description | Confidence |
|------|----|----------|-------------|------------|
| {svcA} | {svcB} | REST/gRPC/Kafka | {desc} | Confirmed/[Needs Verification] |

## Database Connections

| Service | DB | Type | Access Pattern |
|---------|-----|------|---------------|
| {service} | {db name} | {PostgreSQL/MongoDB...} | {JDBC/Mongoose...} |

## Message Queues

| Producer | Topic/Queue | Consumer | Broker |
|----------|------------|----------|--------|
| {service} | {topic} | {service} | Kafka/RabbitMQ |

## External System Integrations

| Service | External System | Protocol | Description |
|---------|----------------|----------|-------------|
| {service} | {external} | {HTTP/SDK} | {desc} |

## Dependency Diagram

\`\`\`mermaid
graph LR
    {inter-service dependency graph}
\`\`\`

## Related

- [[02-container|Container Diagram]]
- [[04-service-catalog|Service Catalog]]
```
